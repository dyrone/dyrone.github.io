<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Exit Status - dyrone&#39;s blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Exit Status" />
<meta property="og:description" content="Description of GNU doc The exit status of an executed command is the value returned by the waitpid system call or equivalent function." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dyrone.github.io/posts/exit-status/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-11T14:47:33+08:00" />
<meta property="article:modified_time" content="2022-10-11T14:47:33+08:00" />


		<meta itemprop="name" content="Exit Status">
<meta itemprop="description" content="Description of GNU doc The exit status of an executed command is the value returned by the waitpid system call or equivalent function."><meta itemprop="datePublished" content="2022-10-11T14:47:33+08:00" />
<meta itemprop="dateModified" content="2022-10-11T14:47:33+08:00" />
<meta itemprop="wordCount" content="651">
<meta itemprop="keywords" content="" />
		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Exit Status"/>
<meta name="twitter:description" content="Description of GNU doc The exit status of an executed command is the value returned by the waitpid system call or equivalent function."/>

	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="滕 龙" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/placeholder.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">滕 龙</div>
					<div class="logo__tagline">Teng Long</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Exit Status</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2022-10-11T14:47:33&#43;08:00">2022-10-11</time></div></div>
		</header>
		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li><a href="#description-of-gnu-doc">Description of GNU doc</a></li>
    <li><a href="#exit-codes-with-special-meanings">Exit Codes With Special Meanings</a></li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<h2 id="description-of-gnu-doc">Description of GNU doc</h2>
<p>The exit status of an executed command is the value returned by the waitpid
system call or equivalent function. Exit statuses fall between 0 and 255,
though, as explained below, the shell may use values above 125 specially. Exit
statuses from shell builtins and compound commands are also limited to this
range. Under certain circumstances, the shell will use special values to
indicate specific failure modes.</p>
<p>For the shell’s purposes, a command which exits with a zero exit status has
succeeded. A non-zero exit status indicates failure. This seemingly
counter-intuitive scheme is used so there is one well-defined way to indicate
success and a variety of ways to indicate various failure modes. When a command
terminates on a fatal signal whose number is N, Bash uses the value 128+N as the
exit status.</p>
<p>If a command is not found, the child process created to execute it returns a
status of 127. If a command is found but is not executable, the return status is
126.</p>
<p>If a command fails because of an error during expansion or redirection, the exit
status is greater than zero.</p>
<p>The exit status is used by the Bash conditional commands (see Conditional
Constructs) and some of the list constructs (see Lists of Commands).</p>
<p>All of the Bash builtins return an exit status of zero if they succeed and a
non-zero status on failure, so they may be used by the conditional and list
constructs. All builtins return an exit status of 2 to indicate incorrect usage,
generally invalid options or missing arguments.</p>
<p>The exit status of the last command is available in the special parameter $?
(see Special Parameters).</p>
<blockquote>
<p>From <a href="https://www.gnu.org/software/bash/manual/html_node/Exit-Status.html">https://www.gnu.org/software/bash/manual/html_node/Exit-Status.html</a></p>
</blockquote>
<h2 id="exit-codes-with-special-meanings">Exit Codes With Special Meanings</h2>
<table>
<thead>
<tr>
<th style="text-align:left">Exit Code Number</th>
<th style="text-align:left">Meaning</th>
<th style="text-align:left">Example</th>
<th style="text-align:left">Comments</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Catchall for general errors</td>
<td style="text-align:left">let &ldquo;var1 = 1/0&rdquo;</td>
<td style="text-align:left">Miscellaneous errors, such as &ldquo;divide by zero&rdquo; and other impermissible operations</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Misuse of shell builtins (according to Bash documentation)</td>
<td style="text-align:left">empty_function() {}</td>
<td style="text-align:left">Missing keyword or command, or permission problem (and diff return code on a failed binary file comparison).</td>
</tr>
<tr>
<td style="text-align:left">126</td>
<td style="text-align:left">Command invoked cannot execute</td>
<td style="text-align:left">/dev/null</td>
<td style="text-align:left">Permission problem or command is not an executable</td>
</tr>
<tr>
<td style="text-align:left">127</td>
<td style="text-align:left">&ldquo;command not found&rdquo;</td>
<td style="text-align:left">illegal_command</td>
<td style="text-align:left">Possible problem with $PATH or a typo</td>
</tr>
<tr>
<td style="text-align:left">128</td>
<td style="text-align:left">Invalid argument to exit</td>
<td style="text-align:left">exit 3.14159</td>
<td style="text-align:left">exit takes only integer args in the range 0 - 255 (see first footnote)</td>
</tr>
<tr>
<td style="text-align:left">128+n</td>
<td style="text-align:left">Fatal error signal &ldquo;n&rdquo;</td>
<td style="text-align:left">kill -9 $PPID of script</td>
<td style="text-align:left">$? returns 137 (128 + 9)</td>
</tr>
<tr>
<td style="text-align:left">130</td>
<td style="text-align:left">Script terminated by Control-C</td>
<td style="text-align:left">Ctl-C</td>
<td style="text-align:left">Control-C is fatal error signal 2, (130 = 128 + 2, see above)</td>
</tr>
<tr>
<td style="text-align:left">255*</td>
<td style="text-align:left">Exit status out of range</td>
<td style="text-align:left">exit -1</td>
<td style="text-align:left">exit takes only integer args in the range 0 - 255</td>
</tr>
</tbody>
</table>
<p>According to the above table, exit codes 1 - 2, 126 - 165, and 255 [1] have
special meanings, and should therefore be avoided for user-specified exit
parameters. Ending a script with exit 127 would certainly cause confusion when
troubleshooting (is the error code a &ldquo;command not found&rdquo; or a user-defined
one?). However, many scripts use an exit 1 as a general bailout-upon-error.
Since exit code 1 signifies so many possible errors, it is not particularly
useful in debugging.</p>
<p>There has been an attempt to systematize exit status numbers (see
/usr/include/sysexits.h), but this is intended for C and C++ programmers. A
similar standard for scripting might be appropriate. The author of this document
proposes restricting user-defined exit codes to the range 64 - 113 (in addition
to 0, for success), to conform with the C/C++ standard. This would allot 50
valid codes, and make troubleshooting scripts more straightforward. [2] All
user-defined exit codes in the accompanying examples to this document conform to
this standard, except where overriding circumstances exist, as in Example 9-2.</p>
<p>Issuing a $? from the command-line after a shell script exits gives results
consistent with the table above only from the Bash or sh prompt. Running the
C-shell or tcsh may give different values in some cases.</p>
<blockquote>
<p>From: <a href="https://tldp.org/LDP/abs/html/exitcodes.html#FTN.AEN23629">https://tldp.org/LDP/abs/html/exitcodes.html#FTN.AEN23629</a></p>
</blockquote>

		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/git-alias/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">The git aliases worth trying</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2022 dyrone.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/js/custom.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
</body>
</html>