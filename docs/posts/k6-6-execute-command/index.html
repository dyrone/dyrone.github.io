<!doctype html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> k6 series [6] - Execute Command - Dyrone Teng </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta property="og:site_name" content="Dyrone Teng" />
    <meta property="og:locale" content="en_US" />

    <meta property="og:title" content="k6 series [6] - Execute Command" />
<meta property="og:description" content="NOTICE: Base and excerpt from the official k6 documentation
 install xk6 https://github.com/grafana/xk6
install xk6-exec extension https://github.com/grafana/xk6-exec
 Notice the output tips:
 2022/08/08 23:02:07 [INFO] Cleaning up temporary folder: /Users/tenglong.tl/Works/Projects/blogs/buildenv_2022-08-08-2301.1466088654 xk6 has now produced a new k6 binary which may be different than the command on your system path! Be sure to run &#39;./k6 run &lt;SCRIPT_NAME&gt;&#39; from the &#39;/Users/tenglong.tl/Works/Projects/blogs&#39; directory. A new binary k6 will be built at current dir." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/k6-6-execute-command/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-08T22:44:24+08:00" />
<meta property="article:modified_time" content="2022-08-08T22:44:24+08:00" />



    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:title" content="k6 series [6] - Execute Command" />
    <meta name="twitter:description" content="" />
    

    <meta name="twitter:image" content="" />
    <link rel="canonical" href="/posts/k6-6-execute-command/">
    
    <link rel="stylesheet" href="/css/site.min.css" />
    <link rel="stylesheet" href="css/custom.css" />

    
    
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Dyrone Teng" />
    
  </head>

  <body>
    
<div class="mt-xl header">
  <header>
    <div class="container">
      <div class="row justify-content-center">
	<div class="col-auto">
	  <a href="" style="display: contents">
	    <h1 class="name text-center">Teng Long Is Dyrone</h1>
	  </a>
	</div>
      </div>
      <div class="row justify-content-center">
	<div class="nav justify-content-center">
	  <ul>
	    
	    <li class="nav-item justify-content-center mx-auto"> 
	      <a class="nav-link" href="/">
		
		Home
	      </a>
	    </li>
	    
	    <li class="nav-item justify-content-center mx-auto"> 
	      <a class="nav-link" href="/posts/introduce/index.html">
		
		About
	      </a>
	    </li>
	    
	    
	  </ul>
	</div>
      </div>
    </div>
  </header>
</div>

<div class="content">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-lg-8">
        <h1 class="mx-0 mx-md-4 single-page-title">k6 series [6] - Execute Command</h1>
        <div class="markdown page-content">
          <blockquote>
<p>NOTICE: Base and excerpt from the official k6 documentation</p>
</blockquote>
<h2 id="install-xk6">install xk6</h2>
<p><a href="https://github.com/grafana/xk6">https://github.com/grafana/xk6</a></p>
<h2 id="install-xk6-exec-extension">install xk6-exec extension</h2>
<p><a href="https://github.com/grafana/xk6-exec">https://github.com/grafana/xk6-exec</a></p>
<blockquote>
<p>Notice the output tips:</p>
</blockquote>
<pre tabindex="0"><code>2022/08/08 23:02:07 [INFO] Cleaning up temporary folder: /Users/tenglong.tl/Works/Projects/blogs/buildenv_2022-08-08-2301.1466088654

xk6 has now produced a new k6 binary which may be different than the command on your system path!
Be sure to run './k6 run &lt;SCRIPT_NAME&gt;' from the '/Users/tenglong.tl/Works/Projects/blogs' directory.
</code></pre><p>A new binary <code>k6</code> will be built at current dir. You should move it to your PATH
to make sure you can invoke the command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mv /usr/local/bin/k6 /usr/local/bin/k6-prototype
mv ./k6 /usr/local/bin/k6
</code></pre></div><h2 id="example">Example</h2>
<pre tabindex="0"><code class="language-jsts" data-lang="jsts">import exec from 'k6/x/exec';

export default function () {
  console.log(exec.command(&quot;date&quot;));
  console.log(exec.command(&quot;ls&quot;,[&quot;-a&quot;,&quot;-l&quot;]));
}
</code></pre><p>The ouput might be like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">➜  pt-samples git:<span style="color:#ce5c00;font-weight:bold">(</span>master<span style="color:#ce5c00;font-weight:bold">)</span> ✗ k6 run pt-1-0001-stages.ts

          /<span style="color:#4e9a06">\ </span>     <span style="color:#000;font-weight:bold">|</span>‾‾<span style="color:#000;font-weight:bold">|</span> /‾‾/   /‾‾/   
     /<span style="color:#4e9a06">\ </span> /  <span style="color:#4e9a06">\ </span>    <span style="color:#000;font-weight:bold">|</span>  <span style="color:#000;font-weight:bold">|</span>/  /   /  /    
    /  <span style="color:#4e9a06">\/</span>    <span style="color:#4e9a06">\ </span>   <span style="color:#000;font-weight:bold">|</span>     <span style="color:#ce5c00;font-weight:bold">(</span>   /   ‾‾<span style="color:#4e9a06">\ </span> 
   /          <span style="color:#4e9a06">\ </span>  <span style="color:#000;font-weight:bold">|</span>  <span style="color:#000;font-weight:bold">|</span><span style="color:#4e9a06">\ </span> <span style="color:#4e9a06">\ </span><span style="color:#000;font-weight:bold">|</span>  <span style="color:#ce5c00;font-weight:bold">(</span>‾<span style="color:#ce5c00;font-weight:bold">)</span>  <span style="color:#000;font-weight:bold">|</span> 
  / __________ <span style="color:#4e9a06">\ </span> <span style="color:#000;font-weight:bold">|</span>__<span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\_</span>_<span style="color:#4e9a06">\ \_</span>____/ .io

  execution: <span style="color:#204a87">local</span>
     script: pt-1-0001-stages.ts
     output: -

  scenarios: <span style="color:#ce5c00;font-weight:bold">(</span>100.00%<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> scenario, <span style="color:#0000cf;font-weight:bold">1</span> max VUs, 10m30s max duration <span style="color:#ce5c00;font-weight:bold">(</span>incl. graceful stop<span style="color:#ce5c00;font-weight:bold">)</span>:
           * default: <span style="color:#0000cf;font-weight:bold">1</span> iterations <span style="color:#204a87;font-weight:bold">for</span> each of <span style="color:#0000cf;font-weight:bold">1</span> VUs <span style="color:#ce5c00;font-weight:bold">(</span>maxDuration: 10m0s, gracefulStop: 30s<span style="color:#ce5c00;font-weight:bold">)</span>

INFO<span style="color:#ce5c00;font-weight:bold">[</span>0000<span style="color:#ce5c00;font-weight:bold">]</span> 2022年 8月 8日 星期一 23时06分18秒 CST                 <span style="color:#000">source</span><span style="color:#ce5c00;font-weight:bold">=</span>console
INFO<span style="color:#ce5c00;font-weight:bold">[</span>0000<span style="color:#ce5c00;font-weight:bold">]</span> total <span style="color:#0000cf;font-weight:bold">528</span>
drwxr-xr-x    <span style="color:#0000cf;font-weight:bold">8</span> tenglong.tl  staff     <span style="color:#0000cf;font-weight:bold">256</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">4</span> 19:45 .
drwxr-xr-x   <span style="color:#0000cf;font-weight:bold">11</span> tenglong.tl  staff     <span style="color:#0000cf;font-weight:bold">352</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">2</span> 19:54 ..
drwxr-xr-x    <span style="color:#0000cf;font-weight:bold">4</span> tenglong.tl  staff     <span style="color:#0000cf;font-weight:bold">128</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">2</span> 15:04 .log
-rw-r--r--    <span style="color:#0000cf;font-weight:bold">1</span> tenglong.tl  staff      <span style="color:#0000cf;font-weight:bold">57</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">4</span> 19:46 helpers.js
drwxr-xr-x  <span style="color:#0000cf;font-weight:bold">145</span> tenglong.tl  staff    <span style="color:#0000cf;font-weight:bold">4640</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">2</span> 15:50 node_modules
-rw-r--r--    <span style="color:#0000cf;font-weight:bold">1</span> tenglong.tl  staff  <span style="color:#0000cf;font-weight:bold">249907</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">2</span> 19:58 package-lock.json
-rw-r--r--    <span style="color:#0000cf;font-weight:bold">1</span> tenglong.tl  staff    <span style="color:#0000cf;font-weight:bold">4520</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">2</span> 15:50 package.json
-rw-r--r--    <span style="color:#0000cf;font-weight:bold">1</span> tenglong.tl  staff     <span style="color:#0000cf;font-weight:bold">145</span>  <span style="color:#0000cf;font-weight:bold">8</span>  <span style="color:#0000cf;font-weight:bold">8</span> 23:01 pt-1-0001-stages.ts  <span style="color:#000">source</span><span style="color:#ce5c00;font-weight:bold">=</span>console

running <span style="color:#ce5c00;font-weight:bold">(</span>00m00.0s<span style="color:#ce5c00;font-weight:bold">)</span>, 0/1 VUs, <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">1</span> VUs  00m00.0s/10m0s  1/1 iters, <span style="color:#0000cf;font-weight:bold">1</span> per VU

     data_received........: <span style="color:#0000cf;font-weight:bold">0</span> B <span style="color:#0000cf;font-weight:bold">0</span> B/s
     data_sent............: <span style="color:#0000cf;font-weight:bold">0</span> B <span style="color:#0000cf;font-weight:bold">0</span> B/s
     iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>11.17ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>11.17ms <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>11.17ms <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>11.17ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>11.17ms p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>11.17ms
     iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>   79.687625/s
</code></pre></div>

        </div>
      </div>
      <div class="container">
  <span class="row justify-content-center meta" id="footer">
    Copyright © 2023 Dyrone Teng
  </span>
  <script defer src="js/custom.js"></script>

</div>

    </div>
  </div>
</div>

  </body>

</html>
