<!doctype html>
<html lang="en-us">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> k6 series [2] - Result Output - Dyrone Teng </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta property="og:site_name" content="Dyrone Teng" />
    <meta property="og:locale" content="en_US" />

    <meta property="og:title" content="k6 series [2] - Result Output" />
<meta property="og:description" content="NOTICE: Base and excerpt from the official k6 documentation
 Output flow overview By default, k6 provides an end-of-test summary report. This report aggregates the test results, with information about all groups, checks, and thresholds in the load test. It also gives basic, summary statistics about each metric (e.g. mean, median, p95, etc).
For analysis, you can stream all the data that your test generates to an external output. It might be a structured file format like CSV or JSON." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/k6-2-result-output/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-03T16:07:59+08:00" />
<meta property="article:modified_time" content="2022-08-03T16:07:59+08:00" />



    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:title" content="k6 series [2] - Result Output" />
    <meta name="twitter:description" content="" />
    

    <meta name="twitter:image" content="" />
    <link rel="canonical" href="/posts/k6-2-result-output/">
    
    <link rel="stylesheet" href="/css/site.min.css" />
    <link rel="stylesheet" href="css/custom.css" />

    
    
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Dyrone Teng" />
    
  </head>

  <body>
    
<div class="mt-xl header">
  <header>
    <div class="container">
      <div class="row justify-content-center">
	<div class="col-auto">
	  <a href="" style="display: contents">
	    <h1 class="name text-center">Teng Long Is Dyrone</h1>
	  </a>
	</div>
      </div>
      <div class="row justify-content-center">
	<div class="nav justify-content-center">
	  <ul>
	    
	    <li class="nav-item justify-content-center mx-auto"> 
	      <a class="nav-link" href="/">
		
		Home
	      </a>
	    </li>
	    
	    <li class="nav-item justify-content-center mx-auto"> 
	      <a class="nav-link" href="/posts/introduce/index.html">
		
		About
	      </a>
	    </li>
	    
	    
	  </ul>
	</div>
      </div>
    </div>
  </header>
</div>

<div class="content">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-lg-8">
        <h1 class="mx-0 mx-md-4 single-page-title">k6 series [2] - Result Output</h1>
        <div class="markdown page-content">
          <blockquote>
<p>NOTICE: Base and excerpt from the official k6 documentation</p>
</blockquote>
<h2 id="output-flow-overview">Output flow overview</h2>
<p><img src="https://k6.io/docs/static/dba3ddf4f3ab26e38c2bb8014a3f6910/e1d57/k6-results-diagram.png" alt="overview" title="overview"></p>
<p>By default, k6 provides an end-of-test summary report. This report aggregates
the test results, with information about all groups, checks, and thresholds in
the load test. It also gives basic, summary statistics about each metric (e.g.
mean, median, p95, etc).</p>
<p>For analysis, you can stream all the data that your test generates to an
external output. It might be a structured file format like <strong>CSV</strong> or <strong>JSON</strong>.
But you could also stream to another program, like Prometheus.</p>
<h2 id="standard-output">Standard output</h2>
<p><img src="https://intranetproxy.alipay.com/skylark/lark/0/2022/png/2601/1659514672911-a902f22d-2314-4491-bb6c-7dd1ebfa91f7.png?x-oss-process=image%2Fresize%2Cw_1267%2Climit_0" alt="stdout" title="stdout"></p>
<p>It includes three kinds of test result information:</p>
<ul>
<li><strong>test details</strong>: general test information and load options</li>
<li><strong>progress bar</strong>: test status and how much time has passed</li>
<li><strong>test summary</strong>: the test results</li>
</ul>
<h2 id="built-in-metrics">Built-in metrics</h2>
<ul>
<li>
<p><strong>vus</strong>: Current number of active virtual users</p>
</li>
<li>
<p><strong>vus_max</strong>: Max possible number of virtual users (VU resources are pre-allocated,
ensuring performance will not be affected when scaling up the load level)</p>
</li>
</ul>
<blockquote>
<p>For example, if we specify the VUs option is 20, the <code>vus_max</code> will always be
20, when the test starts running, will be 20 vus parallelly running, but
imagine that some VUs are finished quickly and the others might be slow, than
the vus field will changes at realtime representing that the currently how
many VUs are running , such as one of the 20 VUs have a large latency than the
other 19 VUs, then at the tailing time of testing, the vus in the output will
be 1 for a corresponding long time.</p>
</blockquote>
<ul>
<li>
<p><strong>iterations</strong>: how many times the VUs executed the <code>default</code> function.</p>
</li>
<li>
<p><strong>iteration_duration</strong>: The time it took to complete one full iteration, including
time spent in setup and teardown.</p>
</li>
<li>
<p><strong>dropped_iterations</strong>: The number of iterations that weren&rsquo;t started due to
lack of VUs (for the arrival-rate executors) or lack of time (expired
maxDuration in the iteration-based executors).</p>
</li>
<li>
<p><strong>data_received</strong>: The amount of received data.</p>
</li>
<li>
<p><strong>data_sent</strong>: The amount of data sent.</p>
</li>
<li>
<p><strong>checks</strong>: The rate of successful checks.</p>
</li>
</ul>
<h2 id="http-builtin-metrics">HTTP builtin metrics</h2>
<ul>
<li>
<p><strong>http_reqs</strong>: how many total http requests generated.</p>
</li>
<li>
<p><strong>http_req_blocked</strong>： Time spent blocked (waiting for a free TCP connection
slot) before initiating the request. The connection preparation cost before
establishment.</p>
</li>
<li>
<p><strong>http_req_connecting</strong>: Time spent establishing TCP connection to the remote
host.</p>
</li>
<li>
<p><strong>http_req_tls_handshaking</strong>: Time spent handshaking TLS session with remote
host.</p>
</li>
<li>
<p><strong>http_req_sending</strong>: Time spent sending data to the remote host.</p>
</li>
<li>
<p><strong>http_req_waiting</strong>: Time spent waiting for response from remote host (a.k.a.
“time to first byte”, or “TTFB”).</p>
</li>
<li>
<p><strong>http_req_receiving</strong>: Time spent receiving response data from the remote
host.</p>
</li>
<li>
<p><strong>http_req_duration</strong>: Total time for the request. It&rsquo;s equal to
`http_req_sending + http_req_waiting + http_req_receiving`` (i.e. how long did
the remote server take to process the request and respond, without the initial
DNS lookup/connection times).</p>
</li>
<li>
<p><strong>http_req_failed</strong>: The rate of failed requests according to
setResponseCallback.</p>
</li>
</ul>
<h3 id="accessing-http-timing-from-a-script">Accessing HTTP timing from a script</h3>
<p>To access the timing information from an individual HTTP request, the
<code>Response.timings</code> object provides the time spent on the various phases in ms:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://httpbin.test.k6.io&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;Response time was &#39;</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#204a87">String</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">timings</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">duration</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#4e9a06">&#39; ms&#39;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The output will be liking:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#000">k6</span> <span style="color:#000">run</span> <span style="color:#000">script</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">js</span>

  <span style="color:#000">INFO</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0001</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#000">Response</span> <span style="color:#000">time</span> <span style="color:#000">was</span> <span style="color:#0000cf;font-weight:bold">337.962473</span> <span style="color:#000">ms</span>               <span style="color:#000">source</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">console</span>
</code></pre></div><h3 id="custom-metrics">Custom metrics</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">Trend</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/metrics&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myTrend</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Trend</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;waiting_time&#39;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">r</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;https://httpbin.test.k6.io&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myTrend</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">timings</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">waiting</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">myTrend</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#8f5902;font-style:italic">// waiting_time
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The preceding code creates a Trend metric called waiting_time. In the code, it&rsquo;s
referred to with the variable name myTrend.</p>
<p>Custom metrics are reported at the end of a test. Here&rsquo;s how the output might
look:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a40000">➜</span>  <span style="color:#000">pt</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">samples</span> <span style="color:#000">git</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">master</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#a40000">✗</span> <span style="color:#000">k6</span> <span style="color:#000">run</span> <span style="color:#000">pt</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">0001</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">stages</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ts</span>

          <span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#a40000">\</span>      <span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">‾‾</span><span style="color:#ce5c00;font-weight:bold">|</span> <span style="color:#4e9a06">/‾‾/</span>   <span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#a40000">‾‾</span><span style="color:#ce5c00;font-weight:bold">/</span>   
     <span style="color:#4e9a06">/\  /</span>  <span style="color:#a40000">\</span>     <span style="color:#ce5c00;font-weight:bold">|</span>  <span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#4e9a06">/  /</span>   <span style="color:#ce5c00;font-weight:bold">/</span>  <span style="color:#a40000">/    </span>
    <span style="color:#4e9a06">/  \/    \    |     (   /</span>   <span style="color:#a40000">‾‾\</span>  
   <span style="color:#ce5c00;font-weight:bold">/</span>          <span style="color:#a40000">\</span>   <span style="color:#ce5c00;font-weight:bold">|</span>  <span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span>  <span style="color:#a40000">\</span> <span style="color:#ce5c00;font-weight:bold">|</span>  <span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">‾</span><span style="color:#000;font-weight:bold">)</span>  <span style="color:#ce5c00;font-weight:bold">|</span> 
  <span style="color:#4e9a06">/ __________ \  |__| \__\ \_____/</span> <span style="color:#000;font-weight:bold">.</span><span style="color:#000">io</span>

  <span style="color:#000">execution</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">local</span>
     <span style="color:#000">script</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">pt</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">0001</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">stages</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ts</span>
     <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">-</span>

  <span style="color:#000">scenarios</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">100.00</span><span style="color:#ce5c00;font-weight:bold">%</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">scenario</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">max</span> <span style="color:#000">VUs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000">m30s</span> <span style="color:#000">max</span> <span style="color:#000">duration</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">incl</span><span style="color:#000;font-weight:bold">.</span> <span style="color:#000">graceful</span> <span style="color:#000">stop</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">:</span>
           <span style="color:#ce5c00;font-weight:bold">*</span> <span style="color:#204a87;font-weight:bold">default</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">iterations</span> <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">each</span> <span style="color:#204a87;font-weight:bold">of</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">VUs</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">maxDuration</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000">m0s</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">gracefulStop</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">30</span><span style="color:#000">s</span><span style="color:#000;font-weight:bold">)</span>

<span style="color:#000">INFO</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0001</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#000">waiting_time</span>                                  <span style="color:#000">source</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">console</span>

<span style="color:#000">running</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">00</span><span style="color:#000">m01</span><span style="color:#000;font-weight:bold">.</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000">s</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">VUs</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">complete</span> <span style="color:#000">and</span> <span style="color:#0000cf;font-weight:bold">0</span> <span style="color:#000">interrupted</span> <span style="color:#000">iterations</span>
<span style="color:#204a87;font-weight:bold">default</span> <span style="color:#a40000">✓</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#ce5c00;font-weight:bold">======================================</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">VUs</span>  <span style="color:#0000cf;font-weight:bold">00</span><span style="color:#000">m01</span><span style="color:#000;font-weight:bold">.</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000">m0s</span>  <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">iters</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#000">per</span> <span style="color:#000">VU</span>

     <span style="color:#000">data_received</span><span style="color:#000;font-weight:bold">..................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">15</span> <span style="color:#000">kB</span> <span style="color:#0000cf;font-weight:bold">14</span> <span style="color:#000">kB</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">s</span>
     <span style="color:#000">data_sent</span><span style="color:#000;font-weight:bold">......................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">454</span> <span style="color:#000">B</span> <span style="color:#0000cf;font-weight:bold">424</span> <span style="color:#000">B</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">s</span>
     <span style="color:#000">http_req_blocked</span><span style="color:#000;font-weight:bold">...............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">794.56</span><span style="color:#000">ms</span>
     <span style="color:#000">http_req_connecting</span><span style="color:#000;font-weight:bold">............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">251.49</span><span style="color:#000">ms</span>
     <span style="color:#000">http_req_duration</span><span style="color:#000;font-weight:bold">..............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span>
       <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">expected_response</span><span style="color:#ce5c00;font-weight:bold">:</span><span style="color:#204a87;font-weight:bold">true</span> <span style="color:#000;font-weight:bold">}...</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">274.07</span><span style="color:#000">ms</span>
     <span style="color:#000">http_req_failed</span><span style="color:#000;font-weight:bold">................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0.00</span><span style="color:#ce5c00;font-weight:bold">%</span> <span style="color:#a40000">✓</span> <span style="color:#0000cf;font-weight:bold">0</span>        <span style="color:#a40000">✗</span> <span style="color:#0000cf;font-weight:bold">1</span>  
     <span style="color:#000">http_req_receiving</span><span style="color:#000;font-weight:bold">.............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>    <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>    <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>    <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>    <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>    <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">506</span><span style="color:#000">µs</span>   
     <span style="color:#000">http_req_sending</span><span style="color:#000;font-weight:bold">...............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>     <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>     <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>     <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>     <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>     <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">99</span><span style="color:#000">µs</span>    
     <span style="color:#000">http_req_tls_handshaking</span><span style="color:#000;font-weight:bold">.......</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">341.23</span><span style="color:#000">ms</span>
     <span style="color:#000">http_req_waiting</span><span style="color:#000;font-weight:bold">...............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span> <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span> <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span> <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span> <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.46</span><span style="color:#000">ms</span>
     <span style="color:#000">http_reqs</span><span style="color:#000;font-weight:bold">......................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span>     <span style="color:#0000cf;font-weight:bold">0.933729</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">s</span>
     <span style="color:#000">iteration_duration</span><span style="color:#000;font-weight:bold">.............</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>    <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>    <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>    <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>    <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>    <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1.06</span><span style="color:#000">s</span>   
     <span style="color:#000">iterations</span><span style="color:#000;font-weight:bold">.....................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span>     <span style="color:#0000cf;font-weight:bold">0.933729</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">s</span>
     <span style="color:#000">vus</span><span style="color:#000;font-weight:bold">............................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span>     <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>      <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>
     <span style="color:#000">vus_max</span><span style="color:#000;font-weight:bold">........................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span>     <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>      <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>
     <span style="color:#000">waiting_time</span><span style="color:#000;font-weight:bold">...................</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>  <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>  <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>  <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>  <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">90</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>  <span style="color:#000">p</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">95</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">273.466</span>
</code></pre></div><h3 id="counter-cumulative">Counter: cumulative</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">Counter</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/metrics&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myCounter</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Counter</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;my_counter&#39;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">myCounter</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myCounter</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myCounter</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The omitted output might be, <code>my_counter</code> value will be 6:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">     data_received........: <span style="color:#0000cf;font-weight:bold">0</span> B <span style="color:#0000cf;font-weight:bold">0</span> B/s
     data_sent............: <span style="color:#0000cf;font-weight:bold">0</span> B <span style="color:#0000cf;font-weight:bold">0</span> B/s     
     iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>39.81µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>39.81µs <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>39.81µs <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>39.81µs p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>39.81µs p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>39.81µs
     iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>   1233.045623/s
     my_counter...........: <span style="color:#0000cf;font-weight:bold">6</span>   7398.273736/s
</code></pre></div><h3 id="gause-keep-the-latest-value-only">Gause (keep the latest value only)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">Gauge</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/metrics&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myGauge</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Gauge</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;my_gauge&#39;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">myGauge</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myGauge</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myGauge</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>Output might be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ k6 run script.js

  ...
  iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>21.74µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>21.74µs <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>21.74µs <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>21.74µs p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>21.74µs p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>21.74µs
  iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>   1293.475322/s
  my_gauge.............: <span style="color:#0000cf;font-weight:bold">2</span>   <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>         <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">3</span>
</code></pre></div><h3 id="trend-collect-trend-statistics-minmaxavgpercentiles-for-a-series-of">Trend (collect trend statistics (min/max/avg/percentiles) for a series of</h3>
<p>values)</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">Trend</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/metrics&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myTrend</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Trend</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;my_trend&#39;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">myTrend</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myTrend</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>Ouput might like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">k6 run script.js

  ...
  iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>20.78µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>20.78µs <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>20.78µs <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>20.78µs p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>20.78µs p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>20.78µs
  iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>   1217.544821/s
  my_trend.............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>1.5     <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">1</span>       <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>1.5     <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span>       p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>1.9     p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>1.95

</code></pre></div><p>A trend metric holds a set of sample values, which it can output statistics
about (min, max, average, median, or percentiles). By default, k6 prints
average, min, max, median, 90th percentile, and 95th percentile.</p>
<h3 id="rate-keeps-track-of-the-percentage-of-values-in-a-series-that-are-non-zero">Rate (keeps track of the percentage of values in a series that are non-zero)</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">Rate</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/metrics&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">myRate</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">Rate</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;my_rate&#39;</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">myRate</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myRate</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myRate</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">myRate</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>Output might be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  execution: <span style="color:#204a87">local</span>
     script: pt-1-0001-stages.ts
     output: -

  scenarios: <span style="color:#ce5c00;font-weight:bold">(</span>100.00%<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> scenario, <span style="color:#0000cf;font-weight:bold">1</span> max VUs, 10m30s max duration <span style="color:#ce5c00;font-weight:bold">(</span>incl. graceful stop<span style="color:#ce5c00;font-weight:bold">)</span>:
           * default: <span style="color:#0000cf;font-weight:bold">1</span> iterations <span style="color:#204a87;font-weight:bold">for</span> each of <span style="color:#0000cf;font-weight:bold">1</span> VUs <span style="color:#ce5c00;font-weight:bold">(</span>maxDuration: 10m0s, gracefulStop: 30s<span style="color:#ce5c00;font-weight:bold">)</span>


running <span style="color:#ce5c00;font-weight:bold">(</span>00m00.0s<span style="color:#ce5c00;font-weight:bold">)</span>, 0/1 VUs, <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">1</span> VUs  00m00.0s/10m0s  1/1 iters, <span style="color:#0000cf;font-weight:bold">1</span> per VU

     data_received........: <span style="color:#0000cf;font-weight:bold">0</span> B    <span style="color:#0000cf;font-weight:bold">0</span> B/s
     data_sent............: <span style="color:#0000cf;font-weight:bold">0</span> B    <span style="color:#0000cf;font-weight:bold">0</span> B/s
     iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>48.57µs p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>48.57µs
     iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>      1485.884101/s
     my_rate..............: 75.00% ✓ <span style="color:#0000cf;font-weight:bold">3</span>           ✗ <span style="color:#0000cf;font-weight:bold">1</span>
</code></pre></div><p>And the output might be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">...
     data_received........: <span style="color:#0000cf;font-weight:bold">0</span> B    <span style="color:#0000cf;font-weight:bold">0</span> B/s
     data_sent............: <span style="color:#0000cf;font-weight:bold">0</span> B    <span style="color:#0000cf;font-weight:bold">0</span> B/s
     iteration_duration...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>48.57µs p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>48.57µs p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>48.57µs
     iterations...........: <span style="color:#0000cf;font-weight:bold">1</span>      1485.884101/s
     my_rate..............: 75.00% ✓ <span style="color:#0000cf;font-weight:bold">3</span>           ✗ <span style="color:#0000cf;font-weight:bold">1</span>

</code></pre></div><h2 id="checks">Checks</h2>
<p>Checks are true/false criteria for your test runtime values.</p>
<p>In practice, checks oftern evaluate whether the system under test responds with
a certain value. A check may evaluate:</p>
<ul>
<li>That the system responds with a 200 status</li>
<li>That a response body contains certain text</li>
<li>That the response body is of a specified size</li>
</ul>
<h3 id="check-http-response-code">Check HTTP response code</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">check</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://test.k6.io/&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;is status 200&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">status</span> <span style="color:#ce5c00;font-weight:bold">===</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The output might like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">          /<span style="color:#4e9a06">\ </span>     <span style="color:#000;font-weight:bold">|</span>‾‾<span style="color:#000;font-weight:bold">|</span> /‾‾/   /‾‾/   
     /<span style="color:#4e9a06">\ </span> /  <span style="color:#4e9a06">\ </span>    <span style="color:#000;font-weight:bold">|</span>  <span style="color:#000;font-weight:bold">|</span>/  /   /  /    
    /  <span style="color:#4e9a06">\/</span>    <span style="color:#4e9a06">\ </span>   <span style="color:#000;font-weight:bold">|</span>     <span style="color:#ce5c00;font-weight:bold">(</span>   /   ‾‾<span style="color:#4e9a06">\ </span> 
   /          <span style="color:#4e9a06">\ </span>  <span style="color:#000;font-weight:bold">|</span>  <span style="color:#000;font-weight:bold">|</span><span style="color:#4e9a06">\ </span> <span style="color:#4e9a06">\ </span><span style="color:#000;font-weight:bold">|</span>  <span style="color:#ce5c00;font-weight:bold">(</span>‾<span style="color:#ce5c00;font-weight:bold">)</span>  <span style="color:#000;font-weight:bold">|</span> 
  / __________ <span style="color:#4e9a06">\ </span> <span style="color:#000;font-weight:bold">|</span>__<span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\_</span>_<span style="color:#4e9a06">\ \_</span>____/ .io

  execution: <span style="color:#204a87">local</span>
     script: pt-1-0001-stages.ts
     output: -

  scenarios: <span style="color:#ce5c00;font-weight:bold">(</span>100.00%<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> scenario, <span style="color:#0000cf;font-weight:bold">1</span> max VUs, 10m30s max duration <span style="color:#ce5c00;font-weight:bold">(</span>incl. graceful stop<span style="color:#ce5c00;font-weight:bold">)</span>:
           * default: <span style="color:#0000cf;font-weight:bold">1</span> iterations <span style="color:#204a87;font-weight:bold">for</span> each of <span style="color:#0000cf;font-weight:bold">1</span> VUs <span style="color:#ce5c00;font-weight:bold">(</span>maxDuration: 10m0s, gracefulStop: 30s<span style="color:#ce5c00;font-weight:bold">)</span>


running <span style="color:#ce5c00;font-weight:bold">(</span>00m01.7s<span style="color:#ce5c00;font-weight:bold">)</span>, 0/1 VUs, <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">1</span> VUs  00m01.7s/10m0s  1/1 iters, <span style="color:#0000cf;font-weight:bold">1</span> per VU

     ✓ is status <span style="color:#0000cf;font-weight:bold">200</span>

     checks.........................: 100.00% ✓ <span style="color:#0000cf;font-weight:bold">1</span>        ✗ <span style="color:#0000cf;font-weight:bold">0</span>  
     data_received..................: <span style="color:#0000cf;font-weight:bold">17</span> kB   <span style="color:#0000cf;font-weight:bold">10</span> kB/s
     ...
</code></pre></div><h3 id="check-for-text-in-response-body">Check for text in response body</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">check</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://test.k6.io/&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;verify homepage text&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span>
      <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">body</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">includes</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;Collection of simple web-pages suitable for load testing&#39;</span><span style="color:#000;font-weight:bold">),</span>
  <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h3 id="add-multiple-checks">Add multiple checks</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">check</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://test.k6.io/&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;is status 200&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">status</span> <span style="color:#ce5c00;font-weight:bold">===</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#4e9a06">&#39;body size is 11,105 bytes&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">body</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">length</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#0000cf;font-weight:bold">11105</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000;font-weight:bold">});</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The output will be like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">running <span style="color:#ce5c00;font-weight:bold">(</span>00m01.4s<span style="color:#ce5c00;font-weight:bold">)</span>, 0/1 VUs, <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">1</span> VUs  00m01.4s/10m0s  1/1 iters, <span style="color:#0000cf;font-weight:bold">1</span> per VU

     ✓ is status <span style="color:#0000cf;font-weight:bold">200</span>
     ✗ body size is 11,105 bytes
      ↳  0% — ✓ <span style="color:#0000cf;font-weight:bold">0</span> / ✗ <span style="color:#0000cf;font-weight:bold">1</span>
...
</code></pre></div><h3 id="failing-a-load-test-using-checks">Failing a load test using checks</h3>
<p>When a iteration failed, the test will continue running, if you want to stop the
test procedure and exit, you can use <code>threshold</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">check</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">sleep</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">options</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">vus</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">duration</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;10s&#39;</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">thresholds</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#8f5902;font-style:italic">// the rate of successful checks should be higher than 90%
</span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#000">checks</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;rate&gt;0.9&#39;</span><span style="color:#000;font-weight:bold">],</span>
  <span style="color:#000;font-weight:bold">},</span>
<span style="color:#000;font-weight:bold">};</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://httpbin.test.k6.io&#39;</span><span style="color:#000;font-weight:bold">);</span>

  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;status is 500&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">status</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#0000cf;font-weight:bold">500</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#000">sleep</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>The output might be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">  scenarios: <span style="color:#ce5c00;font-weight:bold">(</span>100.00%<span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#0000cf;font-weight:bold">1</span> scenario, <span style="color:#0000cf;font-weight:bold">50</span> max VUs, 40s max duration <span style="color:#ce5c00;font-weight:bold">(</span>incl. graceful stop<span style="color:#ce5c00;font-weight:bold">)</span>:
           * default: <span style="color:#0000cf;font-weight:bold">50</span> looping VUs <span style="color:#204a87;font-weight:bold">for</span> 10s <span style="color:#ce5c00;font-weight:bold">(</span>gracefulStop: 30s<span style="color:#ce5c00;font-weight:bold">)</span>


running <span style="color:#ce5c00;font-weight:bold">(</span>11.5s<span style="color:#ce5c00;font-weight:bold">)</span>, 00/50 VUs, <span style="color:#0000cf;font-weight:bold">349</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">50</span> VUs  10s

     ✗ status is <span style="color:#0000cf;font-weight:bold">500</span>
      ↳  0% — ✓ <span style="color:#0000cf;font-weight:bold">0</span> / ✗ <span style="color:#0000cf;font-weight:bold">349</span>

   ✗ checks.........................: 0.00%  ✓ <span style="color:#0000cf;font-weight:bold">0</span>         ✗ <span style="color:#0000cf;font-weight:bold">349</span> 
     data_received..................: 3.8 MB <span style="color:#0000cf;font-weight:bold">334</span> kB/s
...
</code></pre></div><p>Using <code>tags</code> for particular check or group checks, for example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">http</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6/http&#39;</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">check</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">sleep</span> <span style="color:#000;font-weight:bold">}</span> <span style="color:#000">from</span> <span style="color:#4e9a06">&#39;k6&#39;</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">const</span> <span style="color:#000">options</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">vus</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">duration</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;10s&#39;</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000">thresholds</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;checks{myTag:hola}&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;rate&gt;0.9&#39;</span><span style="color:#000;font-weight:bold">],</span>
  <span style="color:#000;font-weight:bold">},</span>
<span style="color:#000;font-weight:bold">};</span>

<span style="color:#204a87;font-weight:bold">export</span> <span style="color:#204a87;font-weight:bold">default</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#204a87;font-weight:bold">let</span> <span style="color:#000">res</span><span style="color:#000;font-weight:bold">;</span>

  <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://httpbin.test.k6.io&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#4e9a06">&#39;status is 500&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">status</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#0000cf;font-weight:bold">500</span><span style="color:#000;font-weight:bold">,</span>
  <span style="color:#000;font-weight:bold">});</span>

  <span style="color:#000">res</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">get</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;http://httpbin.test.k6.io&#39;</span><span style="color:#000;font-weight:bold">);</span>
  <span style="color:#000">check</span><span style="color:#000;font-weight:bold">(</span>
    <span style="color:#000">res</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000;font-weight:bold">{</span>
      <span style="color:#4e9a06">&#39;status is 200&#39;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">r</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">=&gt;</span> <span style="color:#000">r</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">status</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">,</span>
    <span style="color:#000;font-weight:bold">},</span>
    <span style="color:#000;font-weight:bold">{</span> <span style="color:#000">myTag</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#39;hola&#39;</span> <span style="color:#000;font-weight:bold">}</span>
  <span style="color:#000;font-weight:bold">);</span>

  <span style="color:#000">sleep</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><p>Output:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">running <span style="color:#ce5c00;font-weight:bold">(</span>11.2s<span style="color:#ce5c00;font-weight:bold">)</span>, 00/50 VUs, <span style="color:#0000cf;font-weight:bold">250</span> <span style="color:#204a87">complete</span> and <span style="color:#0000cf;font-weight:bold">0</span> interrupted iterations                                                     
default ✓ <span style="color:#ce5c00;font-weight:bold">[======================================]</span> <span style="color:#0000cf;font-weight:bold">50</span> VUs  10s                                                            
                                                                                                                          
     ✗ status is <span style="color:#0000cf;font-weight:bold">500</span>                                                                                                      
      ↳  0% — ✓ <span style="color:#0000cf;font-weight:bold">0</span> / ✗ <span style="color:#0000cf;font-weight:bold">250</span>                                                                                                 
     ✓ status is <span style="color:#0000cf;font-weight:bold">200</span>                                                                                                      
                                                                                                                          
     checks.........................: 50.00%  ✓ <span style="color:#0000cf;font-weight:bold">250</span>       ✗ <span style="color:#0000cf;font-weight:bold">250</span>                                                           
     ✓ <span style="color:#ce5c00;font-weight:bold">{</span> myTag:hola <span style="color:#ce5c00;font-weight:bold">}</span>...............: 100.00% ✓ <span style="color:#0000cf;font-weight:bold">250</span>       ✗ <span style="color:#0000cf;font-weight:bold">0</span>                                                             
     data_received..................: 5.4 MB  <span style="color:#0000cf;font-weight:bold">480</span> kB/s                                                                    
     data_sent......................: <span style="color:#0000cf;font-weight:bold">130</span> kB  <span style="color:#0000cf;font-weight:bold">12</span> kB/s                                                                     
     http_req_blocked...............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>54.33ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>2µs      <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>7µs      <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>623.04ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>43.13ms  p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>570.77ms    
     http_req_connecting............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>22.22ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>0s       <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>0s       <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>251.35ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>19.96ms  p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>219.92ms    
     http_req_duration..............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>228.8ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>198.66ms <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>227.1ms  <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>504.86ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>245.68ms p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>253.3ms     
       <span style="color:#ce5c00;font-weight:bold">{</span> expected_response:true <span style="color:#ce5c00;font-weight:bold">}</span>...: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>228.8ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>198.66ms <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>227.1ms  <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>504.86ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>245.68ms p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>253.3ms     
     http_req_failed................: 0.00%   ✓ <span style="color:#0000cf;font-weight:bold">0</span>         ✗ <span style="color:#0000cf;font-weight:bold">1000</span>                                                          
     http_req_receiving.............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>1.06ms  <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>25µs     <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>132µs    <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>250.05ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>622.6µs  p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>1.71ms      
     http_req_sending...............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>33.21µs <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>6µs      <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>28µs     <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>207µs    p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>47.1µs   p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>72.04µs     
     http_req_tls_handshaking.......: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>13.53ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>0s       <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>0s       <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>328.63ms p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>0s       p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>11.52ms     
     http_req_waiting...............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>227.7ms <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>198.54ms <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>226.64ms <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>426.7ms  p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>245.22ms p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>252.71ms    
     http_reqs......................: <span style="color:#0000cf;font-weight:bold">1000</span>    89.379587/s                                                                 
     iteration_duration.............: <span style="color:#000">avg</span><span style="color:#ce5c00;font-weight:bold">=</span>2.13s   <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span>1.83s    <span style="color:#000">med</span><span style="color:#ce5c00;font-weight:bold">=</span>1.91s    <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span>3.24s    p<span style="color:#ce5c00;font-weight:bold">(</span>90<span style="color:#ce5c00;font-weight:bold">)=</span>3.02s    p<span style="color:#ce5c00;font-weight:bold">(</span>95<span style="color:#ce5c00;font-weight:bold">)=</span>3.1s        
     iterations.....................: <span style="color:#0000cf;font-weight:bold">250</span>     22.344897/s
     vus............................: <span style="color:#0000cf;font-weight:bold">5</span>       <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">5</span>       <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">50</span>
     vus_max........................: <span style="color:#0000cf;font-weight:bold">50</span>      <span style="color:#000">min</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">50</span>      <span style="color:#000">max</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">50</span>
</code></pre></div><h2 id="external-output">External output</h2>
<p>If you need more data than what is condensed in the end-of-test summary, you can
integrate and visualize k6 metrics on other platforms.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ k6 run <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>--out <span style="color:#000">json</span><span style="color:#ce5c00;font-weight:bold">=</span>test.json <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>--out <span style="color:#000">influxdb</span><span style="color:#ce5c00;font-weight:bold">=</span>http://localhost:8086/k6
</code></pre></div><p>The avaliable built-in outputs are:</p>
<ul>
<li><a href="https://k6.io/docs/results-visualization/amazon-cloudwatch/">Amazon
CloudWatch</a></li>
<li>Apache Kafka (deprecated). using
<a href="https://github.com/grafana/xk6-output-kafka">extension</a> instead</li>
<li><a href="https://k6.io/docs/results-visualization/cloud/">Cloud (k6&rsquo;s saas service)</a></li>
<li><a href="https://k6.io/docs/results-visualization/csv">CSV</a></li>
<li><a href="https://k6.io/docs/results-visualization/datadog">Datadog</a></li>
<li><a href="https://k6.io/docs/results-visualization/grafana-cloud/">Grafana Cloud /
Prometheus</a>, read
more in <a href="https://medium.com/@rody.bothe/turning-data-into-understandable-insights-with-k6-load-testing-fa24e326e221">turning data into understandable insights with k6 load testing</a></li>
<li><a href="https://k6.io/docs/results-visualization/influxdb-+-grafana/">InfluxDB</a></li>
<li><a href="https://k6.io/docs/results-visualization/json/">JSON</a></li>
<li>Netdata</li>
<li>New Relic</li>
<li><a href="https://k6.io/docs/results-visualization/prometheus/">Prometheus</a></li>
<li><a href="https://k6.io/docs/results-visualization/timescaledb/">TimescaleDB</a>, read
more in <a href="https://k6.io/blog/store-k6-metrics-in-timescaledb-and-visualize-with-grafana/">Store k6 metrics in TimescaleDB and visualize with
Grafana</a></li>
<li>StatsD</li>
</ul>


        </div>
      </div>
      <div class="container">
  <span class="row justify-content-center meta" id="footer">
    Copyright © 2023 Dyrone Teng
  </span>
  <script defer src="js/custom.js"></script>

</div>

    </div>
  </div>
</div>

  </body>

</html>
